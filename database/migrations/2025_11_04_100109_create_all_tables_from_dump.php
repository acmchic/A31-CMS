<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;
use Illuminate\Support\Facades\DB;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        // Create table: an_duong_records
        if (!Schema::hasTable('an_duong_records')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `an_duong_records` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `stt` int DEFAULT NULL COMMENT \'Số thứ tự\', `ho_va_ten` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Họ và tên\', `cap_bac` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Cấp bậc\', `chuc_vu` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Chức vụ\', `tieu_chuan_duoc_huong` text COLLATE utf8mb4_unicode_ci COMMENT \'Tiêu chuẩn được hưởng\', `ghi_chu` text COLLATE utf8mb4_unicode_ci COMMENT \'Ghi chú\', `year` int NOT NULL DEFAULT \'2025\' COMMENT \'Năm\', `department_id` bigint unsigned DEFAULT NULL COMMENT \'ID phòng ban\', `employee_id` bigint unsigned DEFAULT NULL COMMENT \'ID nhân viên\', `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), KEY `an_duong_records_department_id_index` (`department_id`), KEY `an_duong_records_employee_id_index` (`employee_id`), KEY `an_duong_records_stt_index` (`stt`), CONSTRAINT `an_duong_records_department_id_foreign` FOREIGN KEY (`department_id`) REFERENCES `departments` (`id`) ON DELETE SET NULL, CONSTRAINT `an_duong_records_employee_id_foreign` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`) ON DELETE SET NULL ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: approval_histories
        if (!Schema::hasTable('approval_histories')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `approval_histories` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `approvable_type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `approvable_id` bigint unsigned NOT NULL, `user_id` bigint unsigned NOT NULL, `action` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `level` int NOT NULL DEFAULT \'1\', `workflow_status_before` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `workflow_status_after` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `comment` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `reason` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `metadata` json DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), KEY `approval_histories_approvable_type_approvable_id_index` (`approvable_type`,`approvable_id`), KEY `approval_histories_user_id_index` (`user_id`), KEY `approval_histories_action_index` (`action`), KEY `approval_histories_level_index` (`level`), KEY `approval_histories_created_at_index` (`created_at`), CONSTRAINT `approval_histories_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE ) ENGINE=InnoDB AUTO_INCREMENT=25 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: assets
        if (!Schema::hasTable('assets')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `assets` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `old_id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `serial_number` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `class` enum(\'Electronic\',\'Furniture\',\'Gear\') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `status` enum(\'Good\',\'Fine\',\'Bad\',\'Damaged\') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `description` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `in_service` tinyint(1) NOT NULL DEFAULT \'1\', `is_gpr` tinyint(1) NOT NULL DEFAULT \'1\', `real_price` int DEFAULT NULL, `expected_price` int DEFAULT NULL, `acquisition_date` date DEFAULT NULL, `acquisition_type` enum(\'Directed\',\'Founded\',\'Transferred\') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `funded_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `note` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: bulk_messages
        if (!Schema::hasTable('bulk_messages')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `bulk_messages` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `text` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `numbers` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `is_sent` tinyint(1) NOT NULL DEFAULT \'0\', `error` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: categories
        if (!Schema::hasTable('categories')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `categories` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: category_sub_category
        if (!Schema::hasTable('category_sub_category')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `category_sub_category` ( `category_id` bigint unsigned NOT NULL, `sub_category_id` bigint unsigned NOT NULL, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`category_id`,`sub_category_id`), KEY `category_sub_category_sub_category_id_foreign` (`sub_category_id`), CONSTRAINT `category_sub_category_category_id_foreign` FOREIGN KEY (`category_id`) REFERENCES `categories` (`id`), CONSTRAINT `category_sub_category_sub_category_id_foreign` FOREIGN KEY (`sub_category_id`) REFERENCES `sub_categories` (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: changelogs
        if (!Schema::hasTable('changelogs')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `changelogs` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `version` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `title` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `description` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: daily_personnel_reports
        if (!Schema::hasTable('daily_personnel_reports')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `daily_personnel_reports` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `department_id` bigint unsigned NOT NULL, `report_date` date NOT NULL, `total_employees` int NOT NULL DEFAULT \'0\', `present_count` int NOT NULL DEFAULT \'0\', `absent_count` int NOT NULL DEFAULT \'0\', `on_leave_count` int NOT NULL DEFAULT \'0\', `sick_count` int NOT NULL DEFAULT \'0\', `annual_leave_count` int NOT NULL DEFAULT \'0\', `personal_leave_count` int NOT NULL DEFAULT \'0\', `military_leave_count` int NOT NULL DEFAULT \'0\', `other_leave_count` int NOT NULL DEFAULT \'0\', `note` text COLLATE utf8mb4_unicode_ci, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `daily_personnel_reports_department_id_report_date_unique` (`department_id`,`report_date`), KEY `daily_personnel_reports_report_date_index` (`report_date`), CONSTRAINT `daily_personnel_reports_department_id_foreign` FOREIGN KEY (`department_id`) REFERENCES `departments` (`id`) ON DELETE CASCADE ) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: departments
        if (!Schema::hasTable('departments')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `departments` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `parent_id` bigint unsigned DEFAULT NULL, `level` int NOT NULL DEFAULT \'0\', `type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT \'department\', `is_managerial` tinyint(1) NOT NULL DEFAULT \'0\', `permissions_override` json DEFAULT NULL, `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), KEY `departments_parent_id_level_index` (`parent_id`,`level`), CONSTRAINT `departments_parent_id_foreign` FOREIGN KEY (`parent_id`) REFERENCES `departments` (`id`) ON DELETE SET NULL ) ENGINE=InnoDB AUTO_INCREMENT=29 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: discounts
        if (!Schema::hasTable('discounts')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `discounts` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `employee_id` bigint unsigned NOT NULL, `rate` int NOT NULL, `date` date NOT NULL, `reason` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `is_auto` tinyint(1) NOT NULL DEFAULT \'0\', `is_sent` tinyint(1) NOT NULL DEFAULT \'0\', `batch` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), KEY `discounts_employee_id_foreign` (`employee_id`), CONSTRAINT `discounts_employee_id_foreign` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: employee_leave
        if (!Schema::hasTable('employee_leave')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `employee_leave` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `employee_id` bigint unsigned NOT NULL, `from_date` date NOT NULL, `to_date` date NOT NULL, `start_at` time DEFAULT NULL, `end_at` time DEFAULT NULL, `note` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `location` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `leave_type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `status` enum(\'pending\',\'approved\',\'rejected\') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT \'pending\', `workflow_status` enum(\'pending\',\'approved_by_approver\',\'approved_by_director\',\'rejected\') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT \'pending\', `approved_by_approver` bigint unsigned DEFAULT NULL, `approved_at_approver` timestamp NULL DEFAULT NULL, `approver_comment` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `approver_signature_path` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `approved_by_director` bigint unsigned DEFAULT NULL, `approved_at_director` timestamp NULL DEFAULT NULL, `director_comment` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `director_signature_path` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `approved_by` bigint unsigned DEFAULT NULL, `approved_at` timestamp NULL DEFAULT NULL, `rejection_reason` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `digital_signature` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `signed_pdf_path` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `template_pdf_path` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `signature_certificate` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `reviewer_id` bigint unsigned DEFAULT NULL, `reviewed_at` timestamp NULL DEFAULT NULL, `is_authorized` tinyint(1) NOT NULL DEFAULT \'0\', `is_checked` tinyint(1) NOT NULL DEFAULT \'0\', `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT \'system\', `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT \'system\', `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), KEY `employee_leave_approved_by_foreign` (`approved_by`), KEY `employee_leave_reviewer_id_foreign` (`reviewer_id`), KEY `employee_leave_employee_id_foreign` (`employee_id`), KEY `employee_leave_approved_by_approver_foreign` (`approved_by_approver`), KEY `employee_leave_approved_by_director_foreign` (`approved_by_director`), CONSTRAINT `employee_leave_approved_by_approver_foreign` FOREIGN KEY (`approved_by_approver`) REFERENCES `users` (`id`) ON DELETE SET NULL, CONSTRAINT `employee_leave_approved_by_director_foreign` FOREIGN KEY (`approved_by_director`) REFERENCES `users` (`id`) ON DELETE SET NULL, CONSTRAINT `employee_leave_approved_by_foreign` FOREIGN KEY (`approved_by`) REFERENCES `users` (`id`) ON DELETE SET NULL, CONSTRAINT `employee_leave_employee_id_foreign` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`), CONSTRAINT `employee_leave_reviewer_id_foreign` FOREIGN KEY (`reviewer_id`) REFERENCES `users` (`id`) ON DELETE SET NULL ) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: employees
        if (!Schema::hasTable('employees')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `employees` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `date_of_birth` date DEFAULT NULL, `enlist_date` char(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `rank_code` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `position_id` bigint unsigned DEFAULT NULL, `department_id` bigint unsigned DEFAULT NULL, `quit_date` date DEFAULT NULL, `CCCD` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `phone` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `gender` tinyint DEFAULT NULL, `address` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `max_leave_allowed` int NOT NULL DEFAULT \'0\', `annual_leave_balance` int NOT NULL DEFAULT \'12\' COMMENT \'Số ngày nghỉ phép còn lại trong năm\', `annual_leave_total` int NOT NULL DEFAULT \'12\' COMMENT \'Tổng số ngày nghỉ phép trong năm\', `annual_leave_used` int NOT NULL DEFAULT \'0\' COMMENT \'Số ngày nghỉ phép đã sử dụng\', `is_active` tinyint(1) NOT NULL DEFAULT \'1\', `profile_photo_path` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `employees_mobile_number_unique` (`phone`), UNIQUE KEY `employees_national_number_unique` (`CCCD`), KEY `employees_position_id_foreign` (`position_id`), KEY `employees_department_id_foreign` (`department_id`), CONSTRAINT `employees_department_id_foreign` FOREIGN KEY (`department_id`) REFERENCES `departments` (`id`) ON DELETE SET NULL, CONSTRAINT `employees_position_id_foreign` FOREIGN KEY (`position_id`) REFERENCES `positions` (`id`) ON DELETE SET NULL ) ENGINE=InnoDB AUTO_INCREMENT=252 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: fingerprints
        if (!Schema::hasTable('fingerprints')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `fingerprints` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `employee_id` bigint unsigned NOT NULL, `date` date NOT NULL, `log` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `check_in` time DEFAULT NULL, `check_out` time DEFAULT NULL, `is_checked` tinyint(1) NOT NULL DEFAULT \'0\', `excuse` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), KEY `fingerprints_employee_id_foreign` (`employee_id`), CONSTRAINT `fingerprints_employee_id_foreign` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: holidays
        if (!Schema::hasTable('holidays')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `holidays` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `from_date` date NOT NULL, `to_date` date NOT NULL, `note` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: imports
        if (!Schema::hasTable('imports')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `imports` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `file_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `file_size` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `file_ext` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `file_type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `status` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `details` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `current` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT \'0\', `total` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT \'0\', `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: leave_requests
        if (!Schema::hasTable('leave_requests')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `leave_requests` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `employee_id` bigint unsigned NOT NULL, `leave_type` enum(\'business\',\'attendance\',\'study\',\'leave\',\'other\') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `start_date` date NOT NULL, `end_date` date NOT NULL, `location` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `reason` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `status` enum(\'pending\',\'approved\',\'rejected\',\'cancelled\') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT \'pending\', `approved_by` bigint unsigned DEFAULT NULL, `approved_at` timestamp NULL DEFAULT NULL, `rejection_reason` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: leaves
        if (!Schema::hasTable('leaves')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `leaves` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `is_instantly` tinyint(1) NOT NULL, `is_accumulative` tinyint(1) NOT NULL, `discount_rate` int NOT NULL, `days_limit` int NOT NULL, `minutes_limit` int NOT NULL, `notes` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: messages
        if (!Schema::hasTable('messages')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `messages` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `employee_id` bigint unsigned DEFAULT NULL, `text` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `recipient` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `is_sent` tinyint(1) NOT NULL DEFAULT \'0\', `error` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), KEY `messages_employee_id_foreign` (`employee_id`), CONSTRAINT `messages_employee_id_foreign` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: model_has_permissions
        if (!Schema::hasTable('model_has_permissions')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `model_has_permissions` ( `permission_id` bigint unsigned NOT NULL, `model_type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `model_id` bigint unsigned NOT NULL, PRIMARY KEY (`permission_id`,`model_id`,`model_type`), KEY `model_has_permissions_model_id_model_type_index` (`model_id`,`model_type`), CONSTRAINT `model_has_permissions_permission_id_foreign` FOREIGN KEY (`permission_id`) REFERENCES `permissions` (`id`) ON DELETE CASCADE ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: model_has_roles
        if (!Schema::hasTable('model_has_roles')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `model_has_roles` ( `role_id` bigint unsigned NOT NULL, `model_type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `model_id` bigint unsigned NOT NULL, PRIMARY KEY (`role_id`,`model_id`,`model_type`), KEY `model_has_roles_model_id_model_type_index` (`model_id`,`model_type`), CONSTRAINT `model_has_roles_role_id_foreign` FOREIGN KEY (`role_id`) REFERENCES `roles` (`id`) ON DELETE CASCADE ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: notifications
        if (!Schema::hasTable('notifications')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `notifications` ( `id` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `notifiable_type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `notifiable_id` bigint unsigned NOT NULL, `data` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `read_at` timestamp NULL DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), KEY `notifications_notifiable_type_notifiable_id_index` (`notifiable_type`,`notifiable_id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: password_resets
        if (!Schema::hasTable('password_resets')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `password_resets` ( `email` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `token` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `created_at` timestamp NULL DEFAULT NULL, KEY `password_resets_email_index` (`email`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: permissions
        if (!Schema::hasTable('permissions')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `permissions` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `guard_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `permissions_name_guard_name_unique` (`name`,`guard_name`) ) ENGINE=InnoDB AUTO_INCREMENT=114 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: positions
        if (!Schema::hasTable('positions')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `positions` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `vacancies_count` int NOT NULL, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=114 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: record_entries
        if (!Schema::hasTable('record_entries')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `record_entries` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `record_type_id` bigint unsigned NOT NULL, `employee_id` bigint unsigned NOT NULL, `data` json NOT NULL, `year` int DEFAULT NULL, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT \'system\', `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT \'system\', `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), KEY `record_entries_record_type_id_year_index` (`record_type_id`,`year`), KEY `record_entries_employee_id_index` (`employee_id`), CONSTRAINT `record_entries_employee_id_foreign` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`), CONSTRAINT `record_entries_record_type_id_foreign` FOREIGN KEY (`record_type_id`) REFERENCES `record_types` (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: record_types
        if (!Schema::hasTable('record_types')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `record_types` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `slug` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `description` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `fields_config` json NOT NULL, `is_active` tinyint(1) NOT NULL DEFAULT \'1\', `department_id` bigint unsigned NOT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `record_types_slug_unique` (`slug`), KEY `record_types_department_id_foreign` (`department_id`), CONSTRAINT `record_types_department_id_foreign` FOREIGN KEY (`department_id`) REFERENCES `departments` (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: records_quan_nhan
        if (!Schema::hasTable('records_quan_nhan')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `records_quan_nhan` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `employee_id` bigint unsigned NOT NULL, `department_id` bigint unsigned NOT NULL, `ho_ten_thuong_dung` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Họ tên thường dùng\', `so_hieu_quan_nhan` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Số hiệu quân nhân\', `so_the_QN` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Số thẻ quân nhân\', `cap_bac` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `ngay_nhan_cap` date DEFAULT NULL, `ngay_cap_cc` date DEFAULT NULL COMMENT \'Ngày cấp Chứng minh, thẻ, CC\', `cnqs` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `bac_ky_thuat` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `tai_ngu` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `ngay_chuyen_qncn` date DEFAULT NULL, `ngay_chuyen_cnv` date DEFAULT NULL, `luong_nhom_ngach_bac` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Lương: nhóm ngạch bậc\', `ngay_vao_doan` date DEFAULT NULL, `ngay_vao_dang` date DEFAULT NULL, `ngay_chinh_thuc` date DEFAULT NULL COMMENT \'Ngày chính thức Đảng\', `tp_gia_dinh` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Thành phần gia đình\', `tp_ban_than` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Thành phần bản thân\', `dan_toc` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `ton_giao` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `van_hoa` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Trình độ văn hóa\', `ngoai_ngu` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `suc_khoe` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `hang_thuong_tru` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `khu_vuc` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `khen_thuong` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `ky_luat` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `ten_truong` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Tên trường\', `cap_hoc` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Cấp học: ĐH, CĐ, TC...\', `nganh_hoc` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `thoi_gian_hoc` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'VD: 2018-2022\', `nguon_quan` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Sinh quân/Trở quân\', `bao_tin` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci COMMENT \'Khi cần báo tin cho ai? ở đâu?\', `ho_ten_cha` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `ho_ten_me` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `ho_ten_vo_chong` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `may_con` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `ghi_chu` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=252 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: records_so_dieu_dong
        if (!Schema::hasTable('records_so_dieu_dong')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `records_so_dieu_dong` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `employee_id` bigint unsigned NOT NULL COMMENT \'ID nhân viên\', `department_id` bigint unsigned NOT NULL COMMENT \'ID phòng ban\', `nhap_ngu` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Nhập ngũ (mm/yyyy)\', `chuc_vu_cnqc` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Chức vụ CNQC\', `so_quyet_dinh` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Số quyết định\', `ngay_quyet_dinh` date DEFAULT NULL COMMENT \'Ngày quyết định\', `nguoi_ky` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Người ký\', `chuc_vu_nguoi_ky` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Chức vụ người ký\', `ly_do_dieu_dong` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Lý do điều động\', `tu_don_vi` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Từ đơn vị\', `den_don_vi` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Đến đơn vị\', `chuc_vu_cu` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Chức vụ cũ\', `chuc_vu_moi` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Chức vụ mới\', `ngay_hieu_luc` date DEFAULT NULL COMMENT \'Ngày hiệu lực\', `ghi_chu` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci COMMENT \'Ghi chú\', `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), KEY `records_so_dieu_dong_department_id_foreign` (`department_id`), KEY `records_so_dieu_dong_employee_id_department_id_index` (`employee_id`,`department_id`), KEY `records_so_dieu_dong_ngay_quyet_dinh_index` (`ngay_quyet_dinh`), CONSTRAINT `records_so_dieu_dong_department_id_foreign` FOREIGN KEY (`department_id`) REFERENCES `departments` (`id`) ON DELETE CASCADE, CONSTRAINT `records_so_dieu_dong_employee_id_foreign` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`) ON DELETE CASCADE ) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: role_has_permissions
        if (!Schema::hasTable('role_has_permissions')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `role_has_permissions` ( `permission_id` bigint unsigned NOT NULL, `role_id` bigint unsigned NOT NULL, PRIMARY KEY (`permission_id`,`role_id`), KEY `role_has_permissions_role_id_foreign` (`role_id`), CONSTRAINT `role_has_permissions_permission_id_foreign` FOREIGN KEY (`permission_id`) REFERENCES `permissions` (`id`) ON DELETE CASCADE, CONSTRAINT `role_has_permissions_role_id_foreign` FOREIGN KEY (`role_id`) REFERENCES `roles` (`id`) ON DELETE CASCADE ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: roles
        if (!Schema::hasTable('roles')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `roles` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `guard_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `roles_name_guard_name_unique` (`name`,`guard_name`) ) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: salary_up_records
        if (!Schema::hasTable('salary_up_records')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `salary_up_records` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `employee_id` bigint unsigned NOT NULL, `department_id` bigint unsigned NOT NULL, `year` int NOT NULL DEFAULT \'2025\', `ho_ten` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `nhap_ngu` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Nhập ngũ (TĐ) - Format: mm/yyyy\', `chuc_vu` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Chức vụ (CNQS)\', `luong_hien_loai_nhom` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Loại nhóm (MS)\', `luong_hien_bac` int DEFAULT NULL COMMENT \'Bậc L\', `luong_hien_he_so` decimal(5,2) DEFAULT NULL COMMENT \'Hệ số\', `luong_hien_phan_tram_tn_vk` decimal(5,2) DEFAULT NULL COMMENT \'% TN VK\', `luong_hien_he_so_bl` decimal(5,2) DEFAULT NULL COMMENT \'Hệ số BL\', `luong_hien_quan_ham` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Quân hàm QN\', `luong_hien_thang_nhan` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Tháng nhận bổ nhiệm\', `luong_moi_loai_nhom` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Loại nhóm (MS)\', `luong_moi_bac` int DEFAULT NULL COMMENT \'Bậc L\', `luong_moi_he_so` decimal(5,2) DEFAULT NULL COMMENT \'Hệ số\', `luong_moi_phan_tram_tn_vk` decimal(5,2) DEFAULT NULL COMMENT \'% TN VK\', `luong_moi_he_so_bl` decimal(5,2) DEFAULT NULL COMMENT \'Hệ số BL\', `luong_moi_thang_qd_huong` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Tháng quân đội hưởng\', `luong_moi_thang_nam_nhan` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Tháng năm nhận QNCN\', `don_vi` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT \'Đơn vị (Phòng, Ban, PX)\', `ghi_chu` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), KEY `salary_up_records_year_index` (`year`), KEY `salary_up_records_employee_id_index` (`employee_id`), KEY `salary_up_records_department_id_index` (`department_id`), KEY `salary_up_records_year_department_id_index` (`year`,`department_id`), CONSTRAINT `salary_up_records_department_id_foreign` FOREIGN KEY (`department_id`) REFERENCES `departments` (`id`) ON DELETE CASCADE, CONSTRAINT `salary_up_records_employee_id_foreign` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`) ON DELETE CASCADE ) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: settings
        if (!Schema::hasTable('settings')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `settings` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `sms_api_sender` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `sms_api_username` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `sms_api_password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: shared_files
        if (!Schema::hasTable('shared_files')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `shared_files` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `original_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `file_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `file_path` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `file_extension` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `file_size` bigint NOT NULL, `mime_type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `description` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `category` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `tags` json DEFAULT NULL, `is_public` tinyint(1) NOT NULL DEFAULT \'0\', `allowed_roles` json DEFAULT NULL, `allowed_users` json DEFAULT NULL, `download_count` int NOT NULL DEFAULT \'0\', `expires_at` timestamp NULL DEFAULT NULL, `uploaded_by` bigint unsigned NOT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), KEY `shared_files_uploaded_by_index` (`uploaded_by`), KEY `shared_files_category_index` (`category`), KEY `shared_files_is_public_index` (`is_public`), KEY `shared_files_expires_at_index` (`expires_at`), CONSTRAINT `shared_files_uploaded_by_foreign` FOREIGN KEY (`uploaded_by`) REFERENCES `users` (`id`) ON DELETE CASCADE ) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: sub_categories
        if (!Schema::hasTable('sub_categories')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `sub_categories` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `category_id` bigint unsigned NOT NULL, `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), KEY `sub_categories_category_id_foreign` (`category_id`), CONSTRAINT `sub_categories_category_id_foreign` FOREIGN KEY (`category_id`) REFERENCES `categories` (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: system_settings
        if (!Schema::hasTable('system_settings')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `system_settings` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `key` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `value` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `description` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT \'text\', `options` json DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `system_settings_key_unique` (`key`) ) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: timelines
        if (!Schema::hasTable('timelines')) {
            // Note: Removing foreign key to 'centers' table as it doesn't exist in the database
            DB::unprepared("CREATE TABLE IF NOT EXISTS `timelines` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `center_id` bigint unsigned NOT NULL, `department_id` bigint unsigned NOT NULL, `position_id` bigint unsigned NOT NULL, `employee_id` bigint unsigned NOT NULL, `start_date` date NOT NULL, `end_date` date DEFAULT NULL, `notes` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `is_sequent` tinyint(1) NOT NULL DEFAULT \'0\', `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), KEY `timelines_center_id_foreign` (`center_id`), KEY `timelines_department_id_foreign` (`department_id`), KEY `timelines_position_id_foreign` (`position_id`), KEY `timelines_employee_id_foreign` (`employee_id`), CONSTRAINT `timelines_department_id_foreign` FOREIGN KEY (`department_id`) REFERENCES `departments` (`id`), CONSTRAINT `timelines_employee_id_foreign` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`), CONSTRAINT `timelines_position_id_foreign` FOREIGN KEY (`position_id`) REFERENCES `positions` (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: transitions
        if (!Schema::hasTable('transitions')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `transitions` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `asset_id` bigint unsigned NOT NULL, `employee_id` bigint unsigned NOT NULL, `handed_date` date DEFAULT NULL, `return_date` date DEFAULT NULL, `center_document_number` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `reason` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `note` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `transitions_center_document_number_unique` (`center_document_number`), KEY `transitions_asset_id_foreign` (`asset_id`), KEY `transitions_employee_id_foreign` (`employee_id`), CONSTRAINT `transitions_asset_id_foreign` FOREIGN KEY (`asset_id`) REFERENCES `assets` (`id`), CONSTRAINT `transitions_employee_id_foreign` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
        // Create table: vehicle_registrations
        if (!Schema::hasTable('vehicle_registrations')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `vehicle_registrations` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `user_id` bigint unsigned NOT NULL, `vehicle_id` bigint unsigned DEFAULT NULL, `driver_id` bigint unsigned DEFAULT NULL, `departure_date` date DEFAULT NULL, `return_date` date DEFAULT NULL, `departure_time` time DEFAULT NULL, `return_time` time DEFAULT NULL, `departure_datetime` datetime DEFAULT NULL, `return_datetime` datetime DEFAULT NULL, `route` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL, `purpose` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL, `passenger_count` int DEFAULT \'1\', `cargo_description` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci, `driver_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL, `driver_license` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL, `status` enum(\'pending\',\'dept_approved\',\'approved\',\'rejected\') CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT \'pending\', `workflow_status` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT \'pending\', `department_approved_by` bigint unsigned DEFAULT NULL, `department_approved_at` timestamp NULL DEFAULT NULL, `digital_signature_dept` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci, `director_approved_by` bigint unsigned DEFAULT NULL, `director_approved_at` timestamp NULL DEFAULT NULL, `digital_signature_director` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci, `signed_pdf_path` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL, `rejection_reason` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci, `rejection_level` enum(\'department\',\'director\') CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL, `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;");
        }
        // Create table: vehicles
        if (!Schema::hasTable('vehicles')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `vehicles` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL, `category` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL, `license_plate` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL, `brand` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL, `model` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL, `year` int DEFAULT NULL, `color` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL, `fuel_type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL, `capacity` int DEFAULT NULL, `status` enum(\'available\',\'in_use\',\'maintenance\',\'broken\') CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT \'available\', `description` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci, `is_active` tinyint(1) DEFAULT \'1\', `created_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL, `updated_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL, `deleted_by` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT NULL, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, `deleted_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `license_plate` (`license_plate`) ) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;");
        }
        // Create table: webhook_calls
        if (!Schema::hasTable('webhook_calls')) {
            DB::unprepared("CREATE TABLE IF NOT EXISTS `webhook_calls` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT, `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `headers` json DEFAULT NULL, `payload` json DEFAULT NULL, `exception` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, `created_at` timestamp NULL DEFAULT NULL, `updated_at` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;");
        }
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('an_duong_records');
                Schema::dropIfExists('approval_histories');
                Schema::dropIfExists('assets');
                Schema::dropIfExists('bulk_messages');
                Schema::dropIfExists('categories');
                Schema::dropIfExists('category_sub_category');
                Schema::dropIfExists('changelogs');
                Schema::dropIfExists('daily_personnel_reports');
                Schema::dropIfExists('departments');
                Schema::dropIfExists('discounts');
                Schema::dropIfExists('employee_leave');
                Schema::dropIfExists('employees');
                Schema::dropIfExists('fingerprints');
                Schema::dropIfExists('holidays');
                Schema::dropIfExists('imports');
                Schema::dropIfExists('leave_requests');
                Schema::dropIfExists('leaves');
                Schema::dropIfExists('messages');
                Schema::dropIfExists('model_has_permissions');
                Schema::dropIfExists('model_has_roles');
                Schema::dropIfExists('notifications');
                Schema::dropIfExists('password_resets');
                Schema::dropIfExists('permissions');
                Schema::dropIfExists('positions');
                Schema::dropIfExists('record_entries');
                Schema::dropIfExists('record_types');
                Schema::dropIfExists('records_quan_nhan');
                Schema::dropIfExists('records_so_dieu_dong');
                Schema::dropIfExists('role_has_permissions');
                Schema::dropIfExists('roles');
                Schema::dropIfExists('salary_up_records');
                Schema::dropIfExists('settings');
                Schema::dropIfExists('shared_files');
                Schema::dropIfExists('sub_categories');
                Schema::dropIfExists('system_settings');
                Schema::dropIfExists('timelines');
                Schema::dropIfExists('transitions');
                Schema::dropIfExists('vehicle_registrations');
                Schema::dropIfExists('vehicles');
                Schema::dropIfExists('webhook_calls');
    }
};
